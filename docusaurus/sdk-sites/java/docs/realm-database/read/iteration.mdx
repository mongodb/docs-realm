---
title: Iteration
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import CodeBlock from "@theme/CodeBlock";
import Intro from "./_read-intro.md";
import IterateKotlin from "!!raw-loader!@site/docs/generated/java/local/WritesTest.snippet.iterate.kt";
import IterateJava from "!!raw-loader!@site/docs/generated/java/local/WritesTest.snippet.iterate.java";

<Intro />

Because realm collections always reflect the latest state, items
can appear, disappear, or change while you iterate over a collection.
To get a stable collection you can iterate over, you can create a
**snapshot** of a collection's data. A snapshot guarantees the order of
elements will not change, even if an element is deleted or modified.

`Iterator` objects created from `RealmResults` use snapshots
automatically. `Iterator` objects created from `RealmList`
instances do _not_ use snapshots. Use
[`realmList.createSnapshot()`](https://www.mongodb.com/docs/realm-sdks/java/latest/io/realm/RealmList.html#createSnapshot--)
or
[`realmResults.createSnapshot()`](https://www.mongodb.com/docs/realm-sdks/java/latest/io/realm/RealmResults.html#createSnapshot--)
to manually generate a snapshot you can iterate over manually.

The following code demonstrates how to iterate over a collection
safely using either an implicit snapshot created from a `RealmResults`
`Iterator` or a manual snapshot created from a `RealmList`:

<Tabs groupId="java-sdk-languages">
  <TabItem value="kotlin" label="Kotlin">
    <CodeBlock language="kotlin">{IterateKotlin}</CodeBlock>
  </TabItem>
  <TabItem value="java" label="Java">
    <CodeBlock language="java">{IterateJava}</CodeBlock>
  </TabItem>
</Tabs>
