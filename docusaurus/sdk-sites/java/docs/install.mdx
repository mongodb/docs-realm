---
title: 'Install'
---
import {variables} from '@site/variables';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

This page details how to install the Realm Java SDK in your project
and get started.

## Prerequisites

- [Android Studio](https://developer.android.com/studio/index.html)
  version 1.5.1 or higher.
- Java Development Kit (JDK) 9 or higher.
- An emulated or hardware Android device for testing.
- Android API Level 16 or higher (Android 4.1 and above).

## Installation

The Java SDK only supports the Gradle build system. Follow these steps
to add the SDK to your project.

:::note ProGuard

Because the SDK provides a ProGuard configuration as part
of the library, you do not need to add any
Realm-specific rules to your ProGuard configuration.
:::


<Tabs groupId="sdk-distros">
  <TabItem value="realm-database" label="Realm Database">


To add local-only Realm Database to your application, make
the following changes to your project Gradle build
file, typically found at `<project>/build.gradle`:

- Add Maven Central to your list of repositories.
- Add `io.realm:realm-gradle-plugin` to the dependencies
  block of your buildscript.


<pre><code parentName="pre" {...{
            "language": "groovy"
          }}>
{`
buildscript {
    repositories {
        google()
    }
    dependencies {
        classpath "com.android.tools.build:gradle:3.5.1"
        // highlight-next-line
        classpath "io.realm:realm-gradle-plugin:${variables.java_sdk_version}"
    }
}

allprojects {
    repositories {
        google()
        // highlight-next-line
        mavenCentral()
    }
    dependencies {
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}
`}
</code></pre>

Then, make the following changes to your application-level
Gradle build file, typically found at `<project>/app/build.gradle`:

- Apply the `kotlin-kapt` plugin if your application uses Kotlin
- Apply the `realm-android` plugin
- Enable view binding in Android's build features


<pre><code parentName="pre" {...{
            "language": "groovy"
          }}>
{`
apply plugin: 'com.android.application'
// highlight-start
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-kapt'
// highlight-end
apply plugin: 'realm-android'

android {
    compileSdkVersion 29
    buildToolsVersion "29.0.2"
    defaultConfig {
        applicationId "com.mongodb.example-realm-application"
        minSdkVersion 21
        targetSdkVersion 29
    }

    // highlight-start
    buildFeatures {
        viewBinding = true
    }
    // highlight-end

    compileOptions {
        sourceCompatibility 1.8
        targetCompatibility 1.8
    }
}

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version"
    implementation "androidx.appcompat:appcompat:1.1.0"
    implementation "androidx.core:core-ktx:1.2.0"
}
`}
</code></pre>


  </TabItem>
  <TabItem value="sync" label="Sync">


To add local-only Realm Database to your application, make
the following changes to your project Gradle build
file, typically found at `<project>/build.gradle`:

- Add Maven Central to your list of repositories.
- Add `io.realm:realm-gradle-plugin` to the dependencies
  block of your buildscript.


<pre><code parentName="pre" {...{
            "language": "groovy"
          }}>
{`
buildscript {
    repositories {
        google()
    }
    dependencies {
        classpath "com.android.tools.build:gradle:3.5.1"
        // highlight-next-line
        classpath "io.realm:realm-gradle-plugin:${variables.java_sdk_version}"
    }
}

allprojects {
    repositories {
        google()
        // highlight-next-line
        mavenCentral()
    }
    dependencies {
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}
`}
</code></pre>

Then, make the following changes to your application-level
Gradle build file, typically found at `<project>/app/build.gradle`:

- Apply the `kotlin-kapt` plugin if your application uses Kotlin
- Apply the `realm-android` plugin
- Enable view binding in Android's build features
- Enable Sync in the realm library configuration


<pre><code parentName="pre" {...{
            "language": "groovy"
          }}>
{`
apply plugin: 'com.android.application'
// highlight-start
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-kapt'
// highlight-end
apply plugin: 'realm-android'

android {
    compileSdkVersion 29
    buildToolsVersion "29.0.2"
    defaultConfig {
        applicationId "com.mongodb.example-realm-application"
        minSdkVersion 21
        targetSdkVersion 29
    }

    // highlight-start
    buildFeatures {
        viewBinding = true
    }
    // highlight-end

    compileOptions {
        sourceCompatibility 1.8
        targetCompatibility 1.8
    }
}

// highlight-start
realm {
    syncEnabled = true
}
// highlight-end

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:${variables.kotlin_version}"
    implementation "androidx.appcompat:appcompat:1.1.0"
    implementation "androidx.core:core-ktx:1.2.0"
}
`}
</code></pre>

  </TabItem>
</Tabs>

## Installation Size

Once your app is built for release and split for distribution, the SDK
should only add about 800KB to your APK in most cases. The releases are
significantly larger because they include support for more architectures,
such as ARM7, ARMv7, ARM64, x86, and MIPS. The APK file contains all
supported architectures, but the Android installer only installs native
code for the device’s architecture. This means that the installed app
is smaller than the size of the APK file.

You can reduce the size of the Android APK itself by splitting the APK
into a version for each architecture. Use the Android Build Tool ABI
Split support by adding the following to your `build.gradle`:

```groovy
android {
    splits {
        abi {
            enable true
            reset()
            include 'armeabi-v7a', 'arm64-v8a', 'x86', 'x86_64'
        }
    }
}
```

Select the architectures that you’d like to include to build a separate
APK for each.

:::note See Also

Check out the [Android Tools documentation on ABI Splits](https://developer.android.com/studio/build/configure-apk-splits.html)
or [our example on GitHub](https://github.com/realm/realm-java/tree/master/examples/gridViewExample)
for more information about releasing multiple APKs.
:::

If you don’t want to handle multiple APKs, you can restrict the number
of architectures supported in a single APK. This is done by adding
`abiFilters` to your `build.gradle`:

```groovy
android {
    defaultConfig {
        ndk {
            abiFilters 'armeabi-v7a', 'arm64-v8a', 'mips', 'x86', 'x86_64'
        }
    }
}
```

:::note See Also
For more details about ABI splits and filters, see
[Controlling APK Size When Using Native Libraries](https://android.jlelse.eu/controlling-apk-size-when-using-native-libraries-45c6c0e5b70a).
:::

## Customize Dependecies Defined by the Realm Gradle Plugin

The SDK uses a Gradle plugin to make it easier to set
up a large number of dependencies. Unfortunately this also makes it a
bit harder to ignore specific transitive dependencies.

If you want to customize the SDK installation beyond what is exposed by the
plugin, you can manually set up all the dependencies and ignore the
Gradle plugin. The following example demonstrates how to set up the SDK
for an Android application using Kotlin manually:

<pre><code parentName="pre" {...{
            "language": "groovy"
          }}>
{`
buildscript {
    ext.kotlin_version = '${variables.kotlin_version}'
    ext.realm_version = '${variables.java_sdk_version}'
    repositories {
        jcenter()
        mavenCentral()
    }
    dependencies {
        classpath "io.realm:realm-transformer:${variables.java_sdk_version}"
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:${variables.kotlin_version}"
    }
}

apply plugin: 'com.android.application'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-kapt'

import io.realm.transformer.RealmTransformer
android.registerTransform(new RealmTransformer(project))

dependencies {
    api "io.realm:realm-annotations:${variables.java_sdk_version}"
    api "io.realm:realm-android-library:${variables.java_sdk_version}"
    api "io.realm:realm-android-kotlin-extensions:${variables.java_sdk_version}"
    kapt "io.realm:realm-annotations-processor:${variables.java_sdk_version}"
}
`}
</code></pre>

## Supported Platforms

The Java SDK supports the following platforms:

- Android
- Wear OS
- Android Automotive OS
- Android TV
- Android Things
