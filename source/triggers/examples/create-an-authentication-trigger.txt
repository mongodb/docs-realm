.. _create-an-authentication-trigger:

===============================
Create a Authentication Trigger
===============================

.. default-domain:: mongodb

Authentication Triggers have the following configuration options:
      
.. list-table::
   :header-rows: 1
   :widths: 15 30

   * - Field
     - Description

   * - :guilabel:`Trigger Type`

     - The type of the trigger. For authentication triggers,
       this value should be set to ``AUTHENTICATION``.

   * - :guilabel:`Trigger Name`

     - The name of the trigger.

   * - :guilabel:`Linked Function`

     - The name of the {+service-short+} Function that the trigger
       executes whenever it fires. The trigger passes the :ref:`authentication
       event object <authentication-events>` that caused it to fire as the only
       argument to this function.

   * - :guilabel:`Operation Type`

     - The :ref:`authentication operation
       type <authentication-event-operation-types>` that causes the trigger to
       fire.

   * - :guilabel:`Providers`

     - A list of one or more :doc:`authentication provider
       </authentication/providers>` types. The trigger will only listen for
       :ref:`authentication events <authentication-events>` produced by these
       providers.

.. tabs-realm-admin-interfaces::
   
   .. tab::
      :tabid: ui
      
      To open the authentication trigger configuration screen in the {+ui+},
      click :guilabel:`Triggers` in the {+leftnav+}, select the
      :guilabel:`Authentication Triggers` tab, and then click :guilabel:`Add a
      Trigger`.

      Configure the trigger and then click :guilabel:`Save` at the bottom of the
      page to add it to your current deployment draft.
      
      .. figure:: /images/auth-trigger-example-config.png
         :alt: An example of a configured authentication trigger in the UI
         :width: 750px
         :lightbox:
      
   .. tab::
      :tabid: cli

      To create an authentication trigger with :doc:`{+cli+}
      </cli>`:
      
      1. Add an authentication trigger :ref:`configuration file
         <config-authentication-trigger>` to the ``triggers`` subdirectory of a
         local application directory.
      
         .. note::
            
            {+backend+} does not enforce specific filenames for {+service-short+} trigger
            configuration files. However, once imported, {+backend+} will
            rename each configuration file to match the name of the
            trigger it defines, e.g. ``mytrigger.json``.
      
      2. :doc:`Deploy </deploy/deploy-cli>` the trigger:
      
         .. code-block:: shell
            
            realm-cli push

