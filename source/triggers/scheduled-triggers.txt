------------------
Scheduled Triggers
------------------

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

Overview
--------

Scheduled triggers allow you to execute server-side logic on a
:doc:`regular schedule that you define </triggers/cron-expressions>`.
You can use scheduled triggers to do work that happens on a periodic
basis, such as updating a document every minute, generating a nightly
report, or sending an automated weekly email newsletter.

Create a Scheduled Trigger
--------------------------

.. tabs-realm-admin-interfaces::

   tabs:
     - id: ui
       content: |
         To open the scheduled trigger configuration screen in the {+ui+}, click
         :guilabel:`Triggers` in the {+leftnav+}, select the
         :guilabel:`Scheduled Triggers` tab, and then click :guilabel:`Add a
         Trigger`.

         Configure the trigger and then click :guilabel:`Save` at the bottom of the
         page to add it to your current deployment draft.

         You can configure two types of trigger schedules: :guilabel:`Basic` or
         :guilabel:`Advanced`.
         
         - A :guilabel:`Basic` schedule executes the trigger periodically based
           on a single unit of time and an interval, such as "every five
           minutes" or "every Monday".
         
         - An :guilabel:`Advanced` schedule executes the trigger based on a
           custom :doc:`CRON expression </triggers/cron-expressions>` that you
           define.
         
         A scheduled trigger also has the following configuration options:
         
         .. list-table::
            :header-rows: 1
            :widths: 15 30
         
            * - Field
              - Description
         
            * - | :guilabel:`Trigger Type`
                | ``type: <string>``
         
              - Required. The type of the trigger.
                
                For scheduled triggers, this value should be set to ``SCHEDULED``.
         
            * - | :guilabel:`Trigger Name`
                | ``name: <string>``
         
              - Required. The name of the trigger.
         
            * - | :guilabel:`Linked Function`
                | ``function_name: <string>``
         
              - Required. The name of the {+service-short+} Function that the trigger
                executes whenever it fires.
         
                .. note::
         
                   A scheduled trigger does not pass any arguments to its linked
                   Function.
         
         .. figure:: /images/trigger-example-scheduled.png
            :figwidth: 750px
            :alt: Creating a Trigger in the {+ui+}.

     - id: cli
       content: |
         To create a scheduled trigger with :doc:`realm-cli
         </deploy/realm-cli-reference>`:

         1. Add a scheduled trigger :ref:`configuration file
            <config-scheduled-trigger>` to the ``triggers`` subdirectory of a
            local application directory.

            .. note::

               You cannot create a trigger that runs on a
               :guilabel:`Basic` schedule using Realm CLI. All imported
               scheduled trigger configurations must specify a
               :doc:`CRON expression </triggers/cron-expressions>`.

         2. :doc:`Import </deploy/deploy-cli>` the
            application directory into your application.

            .. code-block:: shell

               realm-cli import
