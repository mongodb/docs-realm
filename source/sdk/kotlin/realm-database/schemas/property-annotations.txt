.. _kotlin-property-annotations:

==================================
Property Annotations - Kotlin SDK
==================================

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

You can use annotations to add functionality to properties in your Realm object models.

.. _kotlin-required-optional-properties:

Required and Optional Properties
--------------------------------

In Kotlin, value types are implicitly non-nullable, 
but they can be made optional (nullable) by appending
`?  <https://kotlinlang.org/docs/null-safety.html>`__. 
Include ``?`` to make properties optional.

.. literalinclude:: /examples/generated/kotlin/schemas.snippet.property-annotations.kotlin
   :language: kotlin
   :emphasize-lines: 5

.. _kotlin-default-field-values:

Default Field Values
--------------------

You can use the built-in language features to assign a default value to a property.
Assign a default value in the property declaration.

.. literalinclude:: /examples/generated/kotlin/schemas.snippet.property-annotations.kotlin
   :language: kotlin
   :emphasize-lines: 7

.. _kotlin-primary-key:

Primary Keys
------------

The `PrimaryKey <{+kotlin-local-prefix+}io.realm.kotlin.types.annotations/-primary-key/index.html>`__
annotation indicates a primary key property.
The primary key is a unique identifier for an object in a realm.
No other objects of the same type may share an object's primary key.

Important aspects of primary keys:

- You cannot change a primary key after adding an object to a realm.
- Only add a primary key to one property in a RealmModel.
- Only ``String``, ``int``, ``ObjectId``, and ``Uuid`` types can be primary keys.
- Realm automatically indexes primary keys.
- Primary keys are nullable. ``null`` can only be the primary key of one object
  in a collection.

.. literalinclude:: /examples/generated/kotlin/schemas.snippet.property-annotations.kotlin
   :language: kotlin
   :emphasize-lines: 2-3

.. _kotlin-map-property:

Map a Property to a Different Name
----------------------------------

The `MapTo <https://pub.dev/documentation/realm_common/latest/realm_common/MapTo-class.html>`__ annotation
indicates that a property should be persisted under a different name.
It's useful when opening a Realm across different bindings where code style conventions can differ.

.. literalinclude:: /examples/generated/kotlin/schemas.snippet.property-annotations.kotlin
   :language: kotlin
   :emphasize-lines: 15-16

.. _kotlin-ignore-property:

Ignore Properties from Realm Schema
-----------------------------------

When you declare the property attributes of a class, you can specify whether 
those properties should be managed by the realm. 

- Managed properties are stored or updated in the database. 
- Ignored properties are not stored to the database. 

You can mix managed and ignored properties within a class.


If you add the `Ignore <{+kotlin-local-prefix+}io.realm.kotlin.types.annotations/-ignore/index.html>`__
annotation to a property in your ``RealmModel``, the :ref:`realm object generator
<kotlin-generate-realm-object>` doesn't include the property in the ``RealmObject`` schema
or persist it to Realm Database.

.. literalinclude:: /examples/generated/kotlin/schemas.snippet.property-annotations.kotlin
   :language: kotlin
   :emphasize-lines: 9-10

.. _kotlin-index-property:

Index Properties
----------------

Add the `Index
<{+kotlin-local-prefix+}io.realm.kotlin.types.annotations/-index/index.html>`__
annotation to create an index on the field. 
Indexes can greatly speed up some queries at the cost of 
slightly slower write times and additional storage and
memory overhead. 
Realm Database stores indexes on disk, which makes your 
realm files larger. 
Each index entry is a minimum of 12 bytes. 
Indexes can be nullable.

The following data types (and their nullable variants) 
can be indexed:

- ``String``
- ``Boolean``
- ``Byte``
- ``Char``
- ``Short``
- ``Int``
- ``Long``
- ``RealmInstant``
- ``ObjectId``
- ``RealmUUID``

.. literalinclude:: /examples/generated/kotlin/schemas.snippet.property-annotations.kotlin
   :language: kotlin
   :emphasize-lines: 12-13
