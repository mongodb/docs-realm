.. _react-native-client-quick-start-expo:

========================================
Quick Start with Expo - React Native SDK
========================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

Overview
--------

The :github:`Realm Expo template <expo/examples/tree/master/with-realm>`
provides a fully working React Native application that you can use to bootstrap
your app development project with Realm. The Realm Expo template uses
:npm:`Realm React package <package/@realm/react>`, 
read the :ref:`Realm React documentation <react-native-use-realm-react>` 
to learn more about working with it.

This documentation covers how to initialize, build and run the template on both
Android and iOS, and the template's file structure and core features.


Prerequisites
-------------
- `Node.js version 12 LTS or greater <https://nodejs.org/en/about/releases/>`_

Setup
-----

If you have never used Expo or React Native, follow the `Setting up the
development environment <https://reactnative.dev/docs/environment-setup>`_ guide
before continuing.

Next, before you initialize the template, you must install the `expo cli
<https://docs.expo.dev/workflow/expo-cli/>`_ by running the following command:

.. code-block:: shell
  
   npm install -g expo-cli


Initialize the Template
-----------------------
To initialize a React Native application using the Realm Expo template use the Expo CLI.

.. tabs-realm-languages::

   .. tab::
      :tabid: javascript

      .. code-block:: javascript

         Use ``expo init``  with the flag ``--template @realm/expo-template-js`` to initialize a
         React Native application using the Realm Expo template with JavaScript. 

         Run the following command in your terminal: 

         .. code-block:: shell

            expo init MyAwesomeRealmAppJS --template @realm/expo-template-js

   .. tab::
      :tabid: typescript

      .. code-block:: typescript

         Use ``expo init``  with the flag ``--template @realm/expo-template-ts`` to initialize a
         React Native application using the Realm Expo template with TypeScript. 

         Run the following command in your terminal: 

         .. code-block:: shell

            expo init MyAwesomeRealmApp --template @realm/expo-template-ts

Explore The File Structure
--------------------------

The relevant files are as follows:

.. cssclass:: config-table
.. list-table::
   :header-rows: 1
   :widths: 20 80

   * - File
     - Purpose

   * - Task.ts
     - A typescript file that defines a Task :ref:`object schema
       <react-native-object-schemas>` and returns a ``RealmProvider`` and the hooks.
      
   * - App.ts
     - The entry point to the application, which contains methods to create,
       update, and delete tasks. The ``RealmProvider`` component wraps around
       the ``App`` component, providing your entire application with access to
       the {+realm+}.

   * - TaskList.tsx
     - A React component that gets a list of Task objects from the {+realm+} and renders each object as a ``TaskItem`` component.

   * - TaskItem.tsx
     - A React component that displays the task's description, a checkbox to
       toggle the task's completion status, and a button to delete the task.

Build and Run the Application
-----------------------------

To run your application on an :android:`Android emulator <studio/run/emulator>`,
run the following command from your application root:

.. code-block:: shell
   
   npm run android

To run your application on an :apple:`iOS simulator
<documentation/xcode/running-your-app-in-the-simulator-or-on-a-device>`, run the
following command from your application root:

.. code-block:: shell
   
   npm run ios

When the application builds, you will see something similar to the following image:

.. image:: /images/realm-expo-template.png
   :width: 400px
   :alt: Realm Expo Template on an iOS Simulator

When you run the commands above, the Expo `dev-client
<https://docs.expo.dev/development/getting-started/>`_ will start automatically.
If you close your Expo ``dev-client`` and want to restart it without waiting for
the native build process again, you can simply run: 

.. code-block:: shell
   
   npm start 

However, if you made any `changes to the native code
<https://docs.expo.dev/workflow/customizing/>`_, you will have to rerun ``npm
run android`` or ``npm run ios`` to rebuild your native iOS/Android app.

Deploying Your Application
--------------------------
To deploy your application, you can use the `Expo Application Services (EAS)
<https://docs.expo.dev/eas/>`_, a suite of deeply integrated cloud services for
Expo and React Native apps. EAS allows you to compile and :wikipedia:`sign
<Code_signing>` your {+app+}, upload your app to the Apple App Store or Google
Play Store with a single CLI command, and push bug fixes or small changes
directly to app users.