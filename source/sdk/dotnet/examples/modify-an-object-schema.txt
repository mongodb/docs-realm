.. _dotnet-modify-an-object-schema:
.. _dotnet-local-migrations:
.. _dotnet-local-migration:

==================================
Modify an Object Schema - .NET SDK
==================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

.. example::
   
   Note: assume that each schema change in this example occurs after the developer has used each version for some
   amount of time. New schema version numbers only apply once you open the Realm 
   with an updated schema and explicitly specify the new version number, so in order to get to 
   version 4, you would first need to open the app with versions 2 and 3.

   A {+realm+} using schema version ``1`` has a ``Person`` object type:
   
   .. literalinclude:: /examples/generated/dotnet/Migrations.codeblock.ro1.cs
      :language: csharp

   First, the developer decides to add a "LastName" property:

   .. literalinclude:: /examples/generated/dotnet/Migrations.codeblock.ro2.cs
      :language: csharp
      :emphasize-lines: 8


   The developer decides that the ``Person`` class should use a combined
   ``FullName`` field instead of the separate ``FirstName`` and
   ``LastName`` fields:
   
   .. literalinclude:: /examples/generated/dotnet/Migrations.codeblock.ro3.cs
      :language: csharp
      :emphasize-lines: 7
   
   Lastly, the developer decides to modify the ``Age`` property by renaming it to
   ``Birthday`` and changing the type to ``DateTimeOffset``:

   .. literalinclude:: /examples/generated/dotnet/Migrations.codeblock.ro4.cs
      :language: csharp
      :emphasize-lines: 8


   To migrate the {+realm+} to conform to the updated ``Person`` schema, the
   developer sets the {+realm+}'s :ref:`schema version <dotnet-schema-version>` to
   ``4`` and defines a migration function to set the value of
   ``FullName`` based on the existing ``FirstName`` and ``LastName``
   properties and the value of ``Birthday`` based on ``Age``:
   
   .. literalinclude:: /examples/generated/dotnet/Migrations.codeblock.migrate.cs
      :language: csharp
      :emphasize-lines: 3, 21, 25, 31

.. _dotnet-add-a-property:

Add a Property
--------------


.. _dotnet-delete-a-property:

Delete a Property
-----------------

.. _dotnet-modify-a-property-type:
.. _dotnet-rename-a-property:

Modify a Property Type or Rename a Property
-------------------------------------------


.. _dotnet-migration-function:

Migration Functions
-------------------

