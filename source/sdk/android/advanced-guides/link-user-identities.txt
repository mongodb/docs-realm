.. _android-link-user-identities:

==================================
Link User Identities - Android SDK
==================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

Realm provides :ref:`many authentication providers <authentication-providers>` 
to log users into your app. Each provider creates a unique user identity. 
Realm lets you merge multiple credentials into one user identity.

Example
-------

Consider an application that offers :ref:`anonymous login 
<anonymous-authentication>`. This allows users to explore the app without 
registering. If users like the application, they create permanent 
accounts. They sign up with SSO or email/password authentication. By default, 
this creates a new ``User`` object. The app must link the new 
identity with the original User.

You can link identities using
:java-sdk:`linkCredentials() <io/realm/mongodb/User.html#linkCredentials-io.realm.mongodb.Credentials->`
or :java-sdk:`linkCredentialsAsync()
<io/realm/mongodb/User.html#linkCredentialsAsync-io.realm.mongodb.Credentials-io.realm.mongodb.App.Callback->`.
This links authentication providers to a logged-in :java-sdk:`User 
<io/realm/mongodb/User.html>` object.

.. tabs-realm-languages::
   
   .. tab::
       :tabid: kotlin

       .. literalinclude:: /examples/generated/android/sync/LinkUserIdentitiesTest.codeblock.link-users.kt
         :language: kotlin
         :copyable: false

   .. tab::
       :tabid: java

       .. literalinclude:: /examples/generated/android/sync/LinkUserIdentitiesTest.codeblock.link-users.java
         :language: java
         :copyable: false
