.. _ios-user-metadata:

=======================
User Metadata - iOS SDK
=======================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

.. _ios-read-user-metadata:

Read a Userâ€™s Metadata
----------------------

You can read the :ref:`user metadata <user-metadata>` of a
currently logged in user through that user's ``User`` object. You cannot
edit user metadata through a ``User`` object. 

To read the data, access the ``profile`` property on the ``User`` object 
of a logged in user:

.. literalinclude:: /examples/generated/code/start/Authenticate.codeblock.read-user-metadata.swift
   :language: swift

User metadata options vary depending on which provider you're using, and
:ref:`which metadata fields you enable <configure-user-metadata-on-the-backend>`. 

.. warning:: User Metadata May Be Stale
   
   {+backend+} fetches the most recent version of user metadata whenever a 
   user refreshes their :ref:`access token <user-sessions>`, which is used 
   by most SDK operations that contact the {+backend+} back end. If the token 
   is not refreshed before its default 30 minute expiration time, 
   {+service-short+} refreshes the token on the next call to the backend, so 
   user metadata could be stale for up to 30 minutes plus the time until 
   the next SDK call to the backend occurs.

.. _ios-configure-user-metadata:

Configure User Metadata
-----------------------

You can only read user metadata from the client app that you have configured
on the {+backend+} application.

You can configure the :ref:`user metadata <user-metadata>` you request from 
an authentication provider. You do this directly on the authentication 
provider's configuration. For more details on which metadata fields you 
can use, see the provider details:

- OAuth 2.0 (:doc:`Facebook </authentication/facebook>` & :doc:`Google </authentication/google>`)
- :doc:`Custom JWT </authentication/custom-jwt>`

You can change which metadata fields you have configured by :ref:`editing the 
provider's configuration <configure-user-metadata-on-the-backend>`.

.. _ios-update-user-metadata:

Update User Metadata
--------------------

User metadata that you access through the authentication provider is read-only
data. You cannot update or edit user metadata that comes from this source.

If you would like to give a user the option the update their metadata from 
within your client {+app+}, use :ref:`custom user data <custom-user-data>`, 
instead.
