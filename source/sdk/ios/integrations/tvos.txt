.. _ios-tvos:

==============
Build for tvOS
==============

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

Overview
--------

This page details considerations when using {+client-database+} on tvOS.

.. seealso::

   :ref:`ios-install`

Avoid Storing Important User Data
---------------------------------

Because tvOS restricts writes to the "Documents" directory, the default
{+service-short+} location is ``NSCachesDirectory``. tvOS can purge
files in the "Caches" directory at any point, so you should avoid
storing important user data in a {+realm+}. Instead, it's best to treat
{+service-short+} as a rebuildable cache.

You can also use {+service-short+} as an initial data source by bundling
prebuilt :ref:`Realm files <ios-realm-file>` in your app. Note that the
:apple:`App Store guidelines <tvos/submit/>` limit your app size to 4GB.

.. tip::

   Browse our :github:`tvOS examples
   <realm/realm-cocoa/tree/master/examples/tvos>` for sample tvOS apps
   that demonstrate how to use {+service-short+} as an offline cache.

Share Realm Files with TV Services Extensions
---------------------------------------------

To share a :ref:`Realm file <ios-realm-file>` between a tvOS app and a
TV services extension such as :apple:`Top Shelf
<design/human-interface-guidelines/tvos/overview/top-shelf/>`, use the
``Library/Caches/`` directory in the shared container for the
application group:

.. literalinclude:: /examples/generated/code/start/OpenCloseRealm.codeblock.tvos-share-path.swift
   :language: swift
