.. _upgrade-shared-cluster:

=================================
Terminating/Reenabling Realm Sync
=================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

Overview
--------

If you have :ref:`enabled Realm Sync <enable-sync>`, you may have to terminate and reenable {+sync+} for one of the following reasons:

- When upgrading from a Shared Tier {+atlas-short+} Cluster (either to a Shared or Dedicated instance)
- When moving an {+atlas-short+} cluster across regions/cloud providers
- When upgrading NVMe Atlas clusters
- If the Oplog rolls over due to a Bug or misconfiguration
- If {+sync+} becomes paused on a shared tier clusters with in-frequent usage 
- For certain troubleshooting steps (at the request of MongoDB Support)

.. warning:: 
 
 Terminating/Re-enabling Sync will prevent local changes that you have not
 synced yet from syncing. If you plan on terminating Sync in production and wish
 to capture any write transaction that you have not sent to the Realm server
 yet, you should ensure that your applications have client reset logic that
 handles this case. 

 To learn how to perform a client reset, see the documentation for the Realm SDKs:

 .. tabs-realm-sdks::

   .. tab::
      :tabid: android

      To register or log in an anonymous user from the Android Client SDK, see the
      :ref:`Android SDK guide to anonymous authentication <android-login-anonymous>`.

   .. tab::
      :tabid: ios

      To register or log in an anonymous user from the iOS Client SDK, see the
      :ref:`iOS SDK guide to anonymous authentication <ios-login-anonymous>`.

   .. tab::
      :tabid: web

      To register or log in an anonymous user from the Web Client SDK, see the
      :ref:`Web SDK guide to anonymous authentication <web-login-anonymous>`.

   .. tab::
      :tabid: node
      
      To register or log in an anonymous user from the Node Client SDK, see the
      :ref:`Node SDK guide to anonymous authentication <node-login-anonymous>`.

   .. tab::
      :tabid: react-native

      To register or log in an anonymous user from the React Native Client SDK, see the
      :ref:`React Native SDK guide to anonymous authentication <react-native-login-anonymous>`.

   .. tab::
      :tabid: dotnet

      To register or log in an anonymous user from the .NET Client SDK, see the
      :ref:`.NET SDK guide to anonymous authentication <dotnet-login-anonymous>`.


For code examples that demonstrate how to register and log in using
anonymous authentication, see the documentation for the Realm SDKs:

Terminate Realm Sync
--------------------
Terminate Realm Sync in your {+realm+} application to stop syncing data across
devices. 







In the :guilabel:`Sync` tab, click the red :guilabel:`Terminate Sync`
button. In the modal that pops up, check that you want to terminate sync by
clicking the :guilabel:`I want to terminate Sync` checkbox and then click the
:guilabel:`Terminate Sync` button on the modal.

.. warning:: 
 
 Terminating Realm Sync may lead to data loss.


Reenable Realm Sync
-------------------




Terminate Realm Sync in your {+realm+} application to stop syncing data across
devices. In the :guilabel:`Sync` tab, click the red :guilabel:`Terminate Sync`
button. In the modal that pops up, check that you want to terminate sync by
clicking the :guilabel:`I want to terminate Sync` checkbox and then click the
:guilabel:`Terminate Sync` button on the modal.

  .. warning:: 
   
   Terminating Realm Sync may lead to data loss.

  .. figure:: /images/terminate-sync.png
     :alt: The modal that confirms turning off Realm Sync in the UI
     :width: 461px
     :lightbox: